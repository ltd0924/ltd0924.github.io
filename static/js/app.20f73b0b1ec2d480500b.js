webpackJsonp([6],{106:function(t,e,n){"use strict";function i(t,e,n){r.app.$options.store.state.auth.isLoggedIn?n():n({path:"/login",query:{redirect:t.fullPath}})}var a=n(8),o=n(107),s=n(108),u=n(18);a.default.use(o.a);var r=new o.a({base:"/app",routes:s.a.map(function(t){return{name:t.name,path:t.path,component:t.component,beforeEnter:function(e,n,a){if(document.title=t.title,u.a.dispatch("common/updateTitle",t.title),u.a.dispatch("common/updateLayout",t.layout),!t.isPublic)return i(e,n,a);a()}}})});e.a=r},108:function(t,e,n){"use strict";var i=[{name:"login",path:"/login",component:function(){return n.e(3).then(n.bind(null,156))},title:"Login",layout:"PublicLayout",isPublic:!0},{name:"home",path:"/",component:function(){return n.e(1).then(n.bind(null,69))},title:"Dashboard",layout:"DefaultLayout",isPublic:!1},{name:"dashboard",path:"/dashboard",component:function(){return n.e(1).then(n.bind(null,69))},title:"Dashboard",layout:"DefaultLayout",isPublic:!1},{name:"account",path:"/account",component:function(){return n.e(0).then(n.bind(null,157))},title:"Account",layout:"DefaultLayout",isPublic:!1},{name:"billing",path:"/billing",component:function(){return n.e(0).then(n.bind(null,158))},title:"Account",layout:"DefaultLayout",isPublic:!1},{name:"premium",path:"/premium",component:function(){return n.e(0).then(n.bind(null,159))},title:"Account",layout:"DefaultLayout",isPublic:!1},{name:"tutorial",path:"/examples/tutorial",component:function(){return n.e(2).then(n.bind(null,160))},title:"Tutorial",layout:"DefaultLayout",isPublic:!1},{name:"wip",path:"/examples/wip",component:function(){return n.e(4).then(n.bind(null,161))},title:"Wip",layout:"DefaultLayout",isPublic:!1}];e.a=i},134:function(t,e){},135:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{staticClass:"my-appfooter",class:{"my-appfooter--sidebar-open":t.sidebarVisibility}},[n("div",{staticClass:"grey--text"},[t._v("Â© 2018 Your Company Here")])])},a=[],o={render:i,staticRenderFns:a};e.a=o},136:function(t,e){},137:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{staticClass:"my-appbar",attrs:{color:t.$vuetify.breakpoint.smAndDown?"primary":"default",dark:t.$vuetify.breakpoint.smAndDown,flat:"flat",fixed:"fixed",app:"app",dense:"dense"}},[n("v-toolbar-side-icon",{directives:[{name:"show",rawName:"v-show",value:!t.backButton,expression:"!backButton"}],on:{click:function(e){return e.stopPropagation(),t.toggleSidebar()}}}),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.backButton,expression:"backButton"}],attrs:{icon:"icon"},on:{click:function(e){return e.stopPropagation(),t.$router.back()}}},[n("v-icon",[t._v("arrow_back")])],1),t.$slots.title?t._e():n("v-toolbar-title",{staticClass:"my_appbar__default-title"},[t._v(t._s(t.$store.state.common.title))]),!t.$slots.title||t.$slots.smallTitle&&!t.$vuetify.breakpoint.mdAndUp?t._e():n("v-toolbar-title",{staticClass:"my-appbar__title"},[t._t("title")],2),t.$slots.smallTitle&&t.$vuetify.breakpoint.smAndDown?n("v-toolbar-title",{staticClass:"my-appbar__small-title"},[t._t("smallTitle")],2):t._e(),n("v-spacer"),!t.$slots.smallIcons||t.$vuetify.breakpoint.mdAndUp?n("div",{staticClass:"my-appbar__icons"},[t._t("icons")],2):t._e(),t.$slots.smallIcons&&t.$vuetify.breakpoint.smAndDown?n("div",{staticClass:"my-appbar__small-icons"},[t._t("smallIcons")],2):t._e()],1)},a=[],o={render:i,staticRenderFns:a};e.a=o},140:function(t,e,n){"use strict";var i=n(56),a=n(147),o=n(5),s=o(i.a,a.a,!1,null,null,null);e.a=s.exports},141:function(t,e,n){"use strict";function i(t){n(142)}var a=n(57),o=n(143),s=n(5),u=i,r=s(a.a,o.a,!1,u,null,null);e.a=r.exports},142:function(t,e){},143:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("transition",{attrs:{name:"slide",mode:"out-in"}},[n("router-view")],1)],1)},a=[],o={render:i,staticRenderFns:a};e.a=o},144:function(t,e,n){"use strict";function i(t){n(145)}var a=n(58),o=n(146),s=n(5),u=i,r=s(a.a,o.a,!1,u,null,null);e.a=r.exports},145:function(t,e){},146:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{staticClass:"my-default-layout"},[n("router-view")],1)},a=[],o={render:i,staticRenderFns:a};e.a=o},147:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n(t.component,{tag:"component"},[t._t("default")],2)],1)},a=[],o={render:i,staticRenderFns:a};e.a=o},148:function(t,e,n){"use strict";function i(t){n(149)}var a=n(59),o=n(150),s=n(5),u=i,r=s(a.a,o.a,!1,u,"data-v-28512b2f",null);e.a=r.exports},149:function(t,e){},150:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading||t.oops,expression:"loading || oops"}],staticClass:"my-loading"},[i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],ref:"progress",style:t.style,attrs:{indeterminate:"indeterminate",size:70,width:7,color:"primary"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"oops",staticClass:"my-loading__oops",style:t.style},[i("img",{attrs:{src:n(151),alt:"Page Error"}}),t._m(0)])],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Oops!"),n("br"),t._v("Something went wrong.")])}],o={render:i,staticRenderFns:a};e.a=o},151:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnDQogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iDQogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIg0KICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIg0KICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCINCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIg0KICAgdmVyc2lvbj0iMS4xIg0KICAgeD0iMHB4Ig0KICAgeT0iMHB4Ig0KICAgdmlld0JveD0iMCAwIDkzIDkzIg0KICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSINCiAgIGlkPSJzdmcyIg0KICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45MSByMTM3MjUiDQogICBzb2RpcG9kaTpkb2NuYW1lPSJvb3BzLnN2ZyINCiAgIHdpZHRoPSI5MyINCiAgIGhlaWdodD0iOTMiPjxtZXRhZGF0YQ0KICAgICBpZD0ibWV0YWRhdGEyMCI+PHJkZjpSREY+PGNjOldvcmsNCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQ0KICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPjxkYzp0aXRsZT48L2RjOnRpdGxlPjwvY2M6V29yaz48L3JkZjpSREY+PC9tZXRhZGF0YT48ZGVmcw0KICAgICBpZD0iZGVmczE4IiAvPjxzb2RpcG9kaTpuYW1lZHZpZXcNCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIg0KICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiINCiAgICAgYm9yZGVyb3BhY2l0eT0iMSINCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCINCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiDQogICAgIGd1aWRldG9sZXJhbmNlPSIxMCINCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiDQogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiDQogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCINCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAxNiINCiAgICAgaWQ9Im5hbWVkdmlldzE2Ig0KICAgICBzaG93Z3JpZD0iZmFsc2UiDQogICAgIGZpdC1tYXJnaW4tdG9wPSIwIg0KICAgICBmaXQtbWFyZ2luLWxlZnQ9IjAiDQogICAgIGZpdC1tYXJnaW4tcmlnaHQ9IjAiDQogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIg0KICAgICBpbmtzY2FwZTp6b29tPSIxLjg4OCINCiAgICAgaW5rc2NhcGU6Y3g9IjQ3LjU1OTMyMiINCiAgICAgaW5rc2NhcGU6Y3k9IjM0Ig0KICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCINCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjI3Ig0KICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIg0KICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmcyIiAvPjxwYXRoDQogICAgIGQ9Ik0gNTAuMyw3MyBDIDUwLDczIDQ5LjcsNzIuOSA0OS41LDcyLjcgNDguOCw3Mi4yIDQ4LjYsNzEuMyA0OS4xLDcwLjYgNTQuNyw2Mi4xIDY0LjIsNTcgNzQuNCw1NyBjIDAuOCwwIDEuNSwwLjcgMS41LDEuNSAwLDAuOCAtMC43LDEuNSAtMS41LDEuNSAtOS4yLDAgLTE3LjcsNC42IC0yMi44LDEyLjIgLTAuMywwLjYgLTAuOCwwLjggLTEuMywwLjggeiINCiAgICAgaWQ9InBhdGg0Ig0KICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPjxwYXRoDQogICAgIGQ9Im0gMzMsNDAuMyBjIC00LDAgLTcuMywtMy4zIC03LjMsLTcuMyAwLC00IDMuMywtNy4zIDcuMywtNy4zIDQsMCA3LjMsMy4zIDcuMyw3LjMgMCw0IC0zLjMsNy4zIC03LjMsNy4zIHogbSAwLC0xMS41IGMgLTIuNCwwIC00LjMsMS45IC00LjMsNC4zIDAsMi40IDEuOSw0LjMgNC4zLDQuMyAyLjQsMCA0LjMsLTEuOSA0LjMsLTQuMyAwLC0yLjQgLTEuOSwtNC4zIC00LjMsLTQuMyB6Ig0KICAgICBpZD0icGF0aDYiDQogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+PHBhdGgNCiAgICAgZD0ibSA1OS45LDQwLjMgYyAtNCwwIC03LjMsLTMuMyAtNy4zLC03LjMgMCwtNCAzLjMsLTcuMyA3LjMsLTcuMyA0LDAgNy4zLDMuMyA3LjMsNy4zIDAsNCAtMy4zLDcuMyAtNy4zLDcuMyB6IG0gMCwtMTEuNSBjIC0yLjQsMCAtNC4zLDEuOSAtNC4zLDQuMyAwLDIuNCAxLjksNC4zIDQuMyw0LjMgMi40LDAgNC4zLC0xLjkgNC4zLC00LjMgMCwtMi40IC0xLjksLTQuMyAtNC4zLC00LjMgeiINCiAgICAgaWQ9InBhdGg4Ig0KICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPjxwYXRoDQogICAgIGQ9Ik0gNzIuMiw5MyAyMC44LDkzIEMgOS4zLDkzIDAsODMuNyAwLDcyLjIgTCAwLDQ2LjUgQyAwLDIwLjkgMjAuOSwwIDQ2LjUsMCA3Mi4xLDAgOTMsMjAuOSA5Myw0Ni41IGwgMCwyNS43IEMgOTMsODMuNyA4My43LDkzIDcyLjIsOTMgWiBNIDQ2LjUsNSBDIDIzLjYsNSA1LDIzLjYgNSw0Ni41IEwgNSw3Mi4yIEMgNSw4MC45IDEyLjEsODggMjAuOCw4OCBsIDUxLjQsMCBDIDgwLjksODggODgsODAuOSA4OCw3Mi4yIEwgODgsNDYuNSBDIDg4LDIzLjYgNjkuNCw1IDQ2LjUsNSBaIg0KICAgICBpZD0icGF0aDEwIg0KICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPjwvc3ZnPg=="},152:function(t,e){},153:function(t,e){},18:function(t,e,n){"use strict";var i=n(8),a=n(73),o=n(33),s=n(83),u=n(84);i.default.use(a.a),e.a=new a.a.Store({modules:{common:s.a,auth:o.a},plugins:[u.a]})},33:function(t,e,n){"use strict";var i=n(19),a=n.n(i),o={isLoggedIn:!1,accessToken:null,refreshToken:null,user:{name:"",id:""}},s={namespaced:!0,state:a()({},o),mutations:{update:function(t,e){a()({},o,e)},clear:function(t){t=a()(t,o)}},actions:{clear:function(t){var e=(t.state,t.commit);t.rootState,t.dispatch;e("clear")},update:function(t,e){var n=(t.state,t.commit);t.rootState;n("update",e)}}};e.a=s},41:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return s});var i=!0,a="/api",o="/auth",s="vue-pizza"},54:function(t,e,n){"use strict";e.a={name:"AppFooter",computed:{sidebarVisibility:function(){return this.$store.state.common.sidebar.visible&&this.$vuetify.breakpoint.mdAndUp}}}},55:function(t,e,n){"use strict";e.a={name:"AppBar",props:{backButton:{type:Boolean,default:!1}},methods:{toggleSidebar:function(){this.$store.dispatch("common/updateSidebar",{visible:!this.$store.state.common.sidebar.visible})}}}},56:function(t,e,n){"use strict";var i=n(141),a=n(144);e.a={name:"App",components:{PublicLayout:i.a,DefaultLayout:a.a},computed:{component:function(){return this.$store.state.common.layout}},mounted:function(){this.$store.watch(function(t){return t.common.title},function(t){document.title=t,console.log("title updated")},{deep:!0})}}},57:function(t,e,n){"use strict";e.a={name:"PublicLayout"}},58:function(t,e,n){"use strict";e.a={name:"DefaultLayout",methods:{}}},59:function(t,e,n){"use strict";e.a={name:"Loading",loaderOpacity:.6,transitionAdded:!1,transitionClearAfterMilliSeconds:2e3,props:{loading:{type:Boolean,default:!1},oops:{type:Boolean,default:!1}},data:function(){return{position:{top:"0px",left:"0px"},opacity:this.$options.loaderOpacity}},computed:{style:function(){return{top:this.position.top,left:this.position.left,opacity:this.opacity}}},watch:{loading:function(t){this.updatePosition(),this.addTransitionListener()},oops:function(t){this.updatePosition(),this.addTransitionListener()}},mounted:function(){this.updatePosition(),this.addTransitionListener()},beforeDestroy:function(){document.removeEventListener("transitionend",this.updatePosition)},methods:{updatePosition:function(){var t=this;this&&(this.loading||this.oops)&&this.$nextTick(function(){var e=t.calculatePosition(),n=e.top,i=e.left,a=e.opacity;t.position.top=n,t.position.left=i,t.opacity=a})},calculatePosition:function(){var t=this.loading?this.$refs.progress.$el:this.$refs.oops,e=this.$el.getBoundingClientRect(),n=t.getBoundingClientRect(),i={top:e.top<0?0:e.top,left:e.left<0?0:e.left,bottom:e.bottom>window.innerHeight?window.innerHeight:e.bottom,right:e.right>window.innerWidth?window.innerWidth:e.right},a={top:Math.ceil((i.bottom+i.top-n.height)/2),left:Math.ceil((i.right+i.left-n.width)/2)},o={top:n.top-a.top,left:n.left-a.left};return{top:parseInt(t.style.top)-o.top+"px",left:parseInt(t.style.left)-o.left+"px",opacity:this.loading?this.$options.loaderOpacity:1}},addTransitionListener:function(){var t=this;this.$options.transitionAdded||(document.addEventListener("transitionend",this.updatePosition),this.transitionAdded=!0,setTimeout(function(){document.removeEventListener("transitionend",t.updatePosition),t.transitionAdded=!1},this.$options.transitionClearAfterMilliSeconds))}}}},62:function(t,e,n){"use strict";function i(t){n(134)}var a=n(54),o=n(135),s=n(5),u=i,r=s(a.a,o.a,!1,u,null,null);e.a=r.exports},63:function(t,e,n){"use strict";function i(t){n(136)}var a=n(55),o=n(137),s=n(5),u=i,r=s(a.a,o.a,!1,u,null,null);e.a=r.exports},66:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(42),a=n.n(i),o=n(106);n.d(e,"b",function(){return o.a});var s={install:function(t,e){t.prototype.$http=t.http=a.a.create()}}},68:function(t,e,n){"use strict";var i=n(67),a=n.n(i),o=n(8),s=n(18),u=n(42),r=n.n(u),c=n(41);e.a={install:function(t,e){t.prototype.$auth=t.auth=r.a.create(),this.setDefaults(),this.addInterceptors()},setDefaults:function(){o.default.auth.defaults.baseURL=c.a},addInterceptors:function(){s.a.watch(function(t){return t.auth.accessToken},function(t){c.b||(o.default.auth.defaults.headers.common.Authorization="Bearer "+t,o.default.auth.defaults.transformRequest=[function(e,n){return e.access_token=t,e}]),c.b&&console.log("token set")},{deep:!0}),o.default.auth.interceptors.response.use(function(t){return c.b?a.a.resolve(t):this.isInvalidToken(t)?this.refreshToken(t.request):void 0},function(t){return a.a.reject(t)})},isInvalidToken:function(t){var e=t.status,n=t.data.error;return 401===e&&("invalid_token"===n||"expired_token"===n)},refreshToken:function(t){var e=this;return r()({method:"post",url:c.c,data:{grant_type:"refresh_token",refresh_token:s.a.state.auth.refreshToken}}).then(function(n){return e.storeToken(n),e.retry(t)}).catch(function(t){return e.isInvalidToken(t)&&e.logout(),t})},storeToken:function(t){var e=s.a.state.auth;e.isLoggedIn=!0,e.accessToken=t.data.accessToken,e.refreshToken=t.data.refreshToken,e.user.name="David Graham",e.user.id="e3f657cb80354820b657cb8035c8208e",s.a.dispatch("auth/update",e)},retry:function(t){return o.default.auth(t).then(function(t){return t}).catch(function(t){return t})}}},70:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=n(8),i=n(18),a=n(87),o=(n.n(a),n(66)),s=n(68),u=n(138),r=n.n(u),c=n(139),l=n.n(c),d=n(140),p=n(148),I=n(63),m=n(62);e.default.config.productionTip=!1,t.URLSearchParams=l.a,Object(a.sync)(i.a,o.b),e.default.use(o.a),e.default.use(s.a),e.default.use(r.a,{theme:{primary:"#21CE99",secondary:"#D81B60",accent:"#805441"}}),n(152),n(153),e.default.component("loading",p.a),e.default.component("Appbar",I.a),e.default.component("Appfooter",m.a),new e.default({el:"#app",router:o.b,store:i.a,render:function(t){return t(d.a)}})}.call(e,n(10))},83:function(t,e,n){"use strict";var i=n(19),a=n.n(i),o={sidebar:{visible:!0},title:"",layout:"DefaultLayout",dialog:{visible:!1,text:""},snackbar:{visible:!1,text:"",timeout:6e3,color:""},error:{code:null,level:null,message:""}};e.a={namespaced:!0,state:a()({},o),mutations:{updateSidebar:function(t,e){t.sidebar=a()({},o.sidebar,e)},updateTitle:function(t,e){t.title=e},updateLayout:function(t,e){t.layout=e},updateDialog:function(t,e){t.dialog=a()({},o.dialog,e)},updateSnackbar:function(t,e){t.snackbar=a()({},o.snackbar,e)},error:function(t,e){t.error=a()({},o.error,e)},clear:function(t){a()({},o)}},actions:{clear:function(t){var e=(t.state,t.commit),n=(t.rootState,t.dispatch);e("clear"),n("auth/clear",{},{root:!0})},updateSidebar:function(t,e){(0,t.commit)("updateSidebar",e)},updateTitle:function(t,e){(0,t.commit)("updateTitle",e)},updateLayout:function(t,e){(0,t.commit)("updateLayout",e)},updateDialog:function(t,e){(0,t.commit)("updateDialog",e)},updateSnackbar:function(t,e){(0,t.commit)("updateSnackbar",e)}}}},84:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(85),a=n.n(i),o=n(19),s=n.n(o),u=n(33),r=n(41);if(localStorage.getItem(r.d)){var c=JSON.parse(localStorage.getItem(r.d));u.a.state=s()(u.a.state,c.auth)}var l=function(t){t.subscribe(function(t,e){var n={auth:e.auth};localStorage.setItem(r.d,a()(n)),"common/clear"===t.type&&localStorage.removeItem(r.d)})}}},[70]);
//# sourceMappingURL=app.20f73b0b1ec2d480500b.js.map